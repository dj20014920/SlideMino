# Cloudflare Pages Functions 설정
# Rate Limiting 바인딩 설정

name = "slidemino"
compatibility_date = "2025-01-01"

# Rate Limiting 바인딩
# 무료 플랜: 기본적으로 사용 가능

[[ratelimits]]
name = "SUBMIT_RATE_LIMITER"
namespace_id = "1001"  # 고유 ID
# 점수 제출: IP당 1분에 20회
# 블록이 마음에 안 들어 빠르게 재시작하는 경우 고려
# (1분에 20게임 = 3초/게임 - 매우 여유로움)
simple = { limit = 20, period = 60 }

[[ratelimits]]
name = "RANKINGS_RATE_LIMITER"
namespace_id = "1002"  # 고유 ID
# 랭킹 조회: IP당 1분에 60회
# 페이지 로드, 새로고침, 빈번한 확인 등 모든 상황 고려
simple = { limit = 60, period = 60 }

# D1 Database 바인딩은 Cloudflare Dashboard에서 설정
# 또는 아래 형식으로 추가 (database_name과 database_id는 대시보드에서 확인)
# [[d1_databases]]
# binding = "DB"
# database_name = "slidemino-db"
# database_id = "your-database-id-here"
